{
  "timestamp": "2025-09-14T22:10:44.975762",
  "total_tests": 7,
  "passed_tests": 1,
  "failed_tests": 6,
  "test_files": [
    {
      "file": "test_safety_service.py",
      "status": "PASSED",
      "return_code": 0,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 18 items\n\ntests/test_safety_service.py::TestCOPPAComplianceService::test_initialization PASSED [  5%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_safe_content_passes PASSED [ 11%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_violence_content_blocked PASSED [ 16%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_jailbreak_patterns_blocked PASSED [ 22%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_role_play_attempts_blocked PASSED [ 27%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_age_manipulation_blocked PASSED [ 33%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_system_prompt_extraction_blocked PASSED [ 38%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_personal_info_removal PASSED [ 44%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_empty_content_handling PASSED [ 50%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_data_collection_validation PASSED [ 55%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_data_retention_compliance PASSED [ 61%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_audit_prompts PASSED [ 66%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_parental_consent_status PASSED [ 72%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_safety_event_logging PASSED [ 77%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_content_sanitization PASSED [ 83%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_safe_fallback_generation PASSED [ 88%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_jailbreak_pattern_detection PASSED [ 94%]\ntests/test_safety_service.py::TestCOPPAComplianceService::test_inappropriate_content_categories PASSED [100%]\n\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n============================== 18 passed in 0.04s ==============================\n",
      "stderr": "",
      "summary": {
        "passed": 18,
        "total": 18,
        "collected": 18
      },
      "total_tests": 18,
      "passed": 18,
      "failed": 0
    },
    {
      "file": "test_cv_service.py",
      "status": "FAILED",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 17 items\n\ntests/test_cv_service.py::TestCVService::test_initialization PASSED      [  5%]\ntests/test_cv_service.py::TestCVService::test_safe_questions_are_kid_friendly PASSED [ 11%]\ntests/test_cv_service.py::TestCVService::test_analyze_drawing_success PASSED [ 17%]\ntests/test_cv_service.py::TestCVService::test_analyze_drawing_image_error PASSED [ 23%]\ntests/test_cv_service.py::TestCVService::test_analyze_drawing_unsafe_caption FAILED [ 29%]\ntests/test_cv_service.py::TestCVService::test_analyze_drawing_unsafe_question PASSED [ 35%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_car_theme PASSED [ 41%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_animal_theme PASSED [ 47%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_tree_theme FAILED [ 52%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_house_theme FAILED [ 58%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_person_theme PASSED [ 64%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_generic_theme PASSED [ 70%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_empty_caption PASSED [ 76%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_all_question_types FAILED [ 82%]\ntests/test_cv_service.py::TestCVService::test_generate_questions_kid_friendly FAILED [ 88%]\ntests/test_cv_service.py::TestCVService::test_safety_event_logging PASSED [ 94%]\ntests/test_cv_service.py::TestCVService::test_model_generation_parameters PASSED [100%]\n\n=================================== FAILURES ===================================\n______________ TestCVService.test_analyze_drawing_unsafe_caption _______________\ntests/test_cv_service.py:136: in test_analyze_drawing_unsafe_caption\n    assert result[\"question\"] == \"What colors did you use?\"\nE   AssertionError: assert 'a character with toys' == 'What colors did you use?'\nE     \nE     - What colors did you use?\nE     + a character with toys\n------------------------------ Captured log call -------------------------------\nWARNING  services.cv_service:cv_service.py:58 Unsafe caption generated: a scary monster with weapons\nWARNING  backend.services.safety_service:safety_service.py:423 Safety event logged: {'timestamp': '2025-09-14T22:10:54.991514', 'event_type': 'unsafe_caption', 'content_hash': '149a2ca7eb63d87b', 'violations': ['inappropriate_violence'], 'session_id': None, 'severity': 'MEDIUM'}\nWARNING  services.cv_service:cv_service.py:76 Unsafe question generated: What colors did you use?\nWARNING  backend.services.safety_service:safety_service.py:423 Safety event logged: {'timestamp': '2025-09-14T22:10:54.991947', 'event_type': 'unsafe_question', 'content_hash': '149a2ca7eb63d87b', 'violations': ['inappropriate_violence'], 'session_id': None, 'severity': 'MEDIUM'}\n_______________ TestCVService.test_generate_questions_tree_theme _______________\ntests/test_cv_service.py:225: in test_generate_questions_tree_theme\n    assert len(nature_questions) > 0\nE   assert 0 > 0\nE    +  where 0 = len([])\n______________ TestCVService.test_generate_questions_house_theme _______________\ntests/test_cv_service.py:238: in test_generate_questions_house_theme\n    assert len(building_questions) > 0\nE   assert 0 > 0\nE    +  where 0 = len([])\n___________ TestCVService.test_generate_questions_all_question_types ___________\ntests/test_cv_service.py:283: in test_generate_questions_all_question_types\n    assert any(word in question_text for word in ['count', 'number', 'many', 'how many'])\nE   assert False\nE    +  where False = any(<generator object TestCVService.test_generate_questions_all_question_types.<locals>.<genexpr> at 0x16f353840>)\n______________ TestCVService.test_generate_questions_kid_friendly ______________\ntests/test_cv_service.py:304: in test_generate_questions_kid_friendly\n    assert any(word in question.lower() for word in ['can', 'tell', 'what', 'how', 'where'])\nE   assert False\nE    +  where False = any(<generator object TestCVService.test_generate_questions_kid_friendly.<locals>.<genexpr> at 0x16f352340>)\n=============================== warnings summary ===============================\n../../.venv/lib/python3.11/site-packages/tensorflow/python/framework/dtypes.py:35\n  /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/lib/python3.11/site-packages/tensorflow/python/framework/dtypes.py:35: DeprecationWarning: ml_dtypes.float8_e4m3b11 is deprecated. Use ml_dtypes.float8_e4m3b11fnuz\n    from tensorflow.tsl.python.lib.core import pywrap_ml_dtypes\n\n../../.venv/lib/python3.11/site-packages/transformers/models/auto/modeling_auto.py:2242\n  /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/lib/python3.11/site-packages/transformers/models/auto/modeling_auto.py:2242: FutureWarning: The class `AutoModelForVision2Seq` is deprecated and will be removed in v5.0. Please use `AutoModelForImageTextToText` instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n=========================== short test summary info ============================\nFAILED tests/test_cv_service.py::TestCVService::test_analyze_drawing_unsafe_caption\nFAILED tests/test_cv_service.py::TestCVService::test_generate_questions_tree_theme\nFAILED tests/test_cv_service.py::TestCVService::test_generate_questions_house_theme\nFAILED tests/test_cv_service.py::TestCVService::test_generate_questions_all_question_types\nFAILED tests/test_cv_service.py::TestCVService::test_generate_questions_kid_friendly\n=================== 5 failed, 12 passed, 2 warnings in 9.41s ===================\n",
      "stderr": "",
      "summary": {
        "passed": 12,
        "failed": 5,
        "total": 17,
        "collected": 17
      },
      "total_tests": 17,
      "passed": 12,
      "failed": 5
    },
    {
      "file": "test_tts_service.py",
      "status": "FAILED",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 27 items\n\ntests/test_tts_service.py::TestTTSService::test_initialization PASSED    [  3%]\ntests/test_tts_service.py::TestTTSService::test_initialization_with_embedding_error PASSED [  7%]\ntests/test_tts_service.py::TestTTSService::test_sanitize_text_safe_content PASSED [ 11%]\ntests/test_tts_service.py::TestTTSService::test_sanitize_text_unsafe_content FAILED [ 14%]\ntests/test_tts_service.py::TestTTSService::test_sanitize_text_empty_input PASSED [ 18%]\ntests/test_tts_service.py::TestTTSService::test_sanitize_text_special_characters FAILED [ 22%]\ntests/test_tts_service.py::TestTTSService::test_sanitize_text_length_limit PASSED [ 25%]\ntests/test_tts_service.py::TestTTSService::test_validate_audio_output_valid PASSED [ 29%]\ntests/test_tts_service.py::TestTTSService::test_validate_audio_output_too_short PASSED [ 33%]\ntests/test_tts_service.py::TestTTSService::test_validate_audio_output_too_large PASSED [ 37%]\ntests/test_tts_service.py::TestTTSService::test_validate_audio_output_wrong_sample_rate PASSED [ 40%]\ntests/test_tts_service.py::TestTTSService::test_validate_audio_output_silent PASSED [ 44%]\ntests/test_tts_service.py::TestTTSService::test_validate_audio_output_read_error PASSED [ 48%]\ntests/test_tts_service.py::TestTTSService::test_text_to_speech_success FAILED [ 51%]\ntests/test_tts_service.py::TestTTSService::test_text_to_speech_empty_text PASSED [ 55%]\ntests/test_tts_service.py::TestTTSService::test_text_to_speech_validation_failure PASSED [ 59%]\ntests/test_tts_service.py::TestTTSService::test_text_to_speech_nan_values PASSED [ 62%]\ntests/test_tts_service.py::TestTTSService::test_text_to_speech_zero_amplitude PASSED [ 66%]\ntests/test_tts_service.py::TestTTSService::test_generate_question_audio_success PASSED [ 70%]\ntests/test_tts_service.py::TestTTSService::test_generate_question_audio_empty_question PASSED [ 74%]\ntests/test_tts_service.py::TestTTSService::test_generate_question_audio_none_question PASSED [ 77%]\ntests/test_tts_service.py::TestTTSService::test_generate_response_audio_success FAILED [ 81%]\ntests/test_tts_service.py::TestTTSService::test_generate_response_audio_empty_response PASSED [ 85%]\ntests/test_tts_service.py::TestTTSService::test_generate_response_audio_none_response PASSED [ 88%]\ntests/test_tts_service.py::TestTTSService::test_safety_integration PASSED [ 92%]\ntests/test_tts_service.py::TestTTSService::test_device_assignment PASSED [ 96%]\ntests/test_tts_service.py::TestTTSService::test_model_eval_mode PASSED   [100%]\n\n=================================== FAILURES ===================================\n_______________ TestTTSService.test_sanitize_text_unsafe_content _______________\ntests/test_tts_service.py:72: in test_sanitize_text_unsafe_content\n    assert \"violent\" not in sanitized or \"play\" in sanitized\nE   AssertionError: assert ('violent' not in 'This is fun...lent content'\nE     \nE     'violent' is contained here:\nE       This is funny and violent content\nE     ?                   +++++++ or 'play' in 'This is funny and violent content')\n------------------------------ Captured log setup ------------------------------\nWARNING  services.tts_service:tts_service.py:31 Could not load speaker embeddings: list index out of range\n------------------------------ Captured log call -------------------------------\nWARNING  backend.services.safety_service:safety_service.py:259 Inappropriate content detected: scary_content - \\b(scary|frightening|monster|ghost|dark|evil|nightmare)\\b\nWARNING  services.tts_service:tts_service.py:62 Unsafe text detected in TTS: This is scary and violent content\nWARNING  backend.services.safety_service:safety_service.py:423 Safety event logged: {'timestamp': '2025-09-14T22:11:05.828947', 'event_type': 'unsafe_tts_text', 'content_hash': 'f76a6151b675473d', 'violations': ['inappropriate_scary_content: \\\\b(scary|frightening|monster|ghost|dark|evil|nightmare)\\\\b'], 'session_id': None, 'severity': 'MEDIUM'}\n_____________ TestTTSService.test_sanitize_text_special_characters _____________\ntests/test_tts_service.py:99: in test_sanitize_text_special_characters\n    assert \"Hello world\" in sanitized\nE   AssertionError: assert 'Hello world' in 'Hello!  world!'\n------------------------------ Captured log setup ------------------------------\nWARNING  services.tts_service:tts_service.py:31 Could not load speaker embeddings: list index out of range\n__________________ TestTTSService.test_text_to_speech_success __________________\ntests/test_tts_service.py:191: in test_text_to_speech_success\n    assert result is not None\nE   assert None is not None\n------------------------------ Captured log setup ------------------------------\nWARNING  services.tts_service:tts_service.py:31 Could not load speaker embeddings: list index out of range\n------------------------------ Captured log call -------------------------------\nERROR    services.tts_service:tts_service.py:170 Error in text_to_speech: 'input_ids'\n_____________ TestTTSService.test_generate_response_audio_success ______________\ntests/test_tts_service.py:305: in test_generate_response_audio_success\n    mock_text_to_speech.assert_called_once_with(\"Wow! Great job! That's amazing!\")\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:951: in assert_called_once_with\n    return self.assert_called_with(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:939: in assert_called_with\n    raise AssertionError(_error_message()) from cause\nE   AssertionError: expected call not found.\nE   Expected: text_to_speech(\"Wow! Great job! That's amazing!\")\nE     Actual: text_to_speech('Wow! Great job! Thats amazing!')\n------------------------------ Captured log setup ------------------------------\nWARNING  services.tts_service:tts_service.py:31 Could not load speaker embeddings: list index out of range\n=============================== warnings summary ===============================\n../../.venv/lib/python3.11/site-packages/tensorflow/python/framework/dtypes.py:35\n  /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/lib/python3.11/site-packages/tensorflow/python/framework/dtypes.py:35: DeprecationWarning: ml_dtypes.float8_e4m3b11 is deprecated. Use ml_dtypes.float8_e4m3b11fnuz\n    from tensorflow.tsl.python.lib.core import pywrap_ml_dtypes\n\n<frozen importlib._bootstrap>:241\n  <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute\n\n<frozen importlib._bootstrap>:241\n  <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n=========================== short test summary info ============================\nFAILED tests/test_tts_service.py::TestTTSService::test_sanitize_text_unsafe_content\nFAILED tests/test_tts_service.py::TestTTSService::test_sanitize_text_special_characters\nFAILED tests/test_tts_service.py::TestTTSService::test_text_to_speech_success\nFAILED tests/test_tts_service.py::TestTTSService::test_generate_response_audio_success\n=================== 4 failed, 23 passed, 3 warnings in 8.92s ===================\n",
      "stderr": "",
      "summary": {
        "passed": 23,
        "failed": 4,
        "total": 27,
        "collected": 27
      },
      "total_tests": 27,
      "passed": 23,
      "failed": 4
    },
    {
      "file": "test_asr_service.py",
      "status": "FAILED",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 15 items\n\ntests/test_asr_service.py::TestASRService::test_initialization ERROR     [  6%]\ntests/test_asr_service.py::TestASRService::test_initialization_with_model_loading ERROR [ 13%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_success ERROR [ 20%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_empty_data ERROR [ 26%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_none_data ERROR [ 33%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_short_duration ERROR [ 40%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_model_error ERROR [ 46%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_audio_loading_error ERROR [ 53%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_confidence_calculation ERROR [ 60%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_no_segments ERROR [ 66%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_missing_avg_logprob ERROR [ 73%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_whisper_parameters ERROR [ 80%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_different_languages ERROR [ 86%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_audio_format_handling ERROR [ 93%]\ntests/test_asr_service.py::TestASRService::test_transcribe_audio_confidence_bounds ERROR [100%]\n\n==================================== ERRORS ====================================\n_____________ ERROR at setup of TestASRService.test_initialization _____________\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n___ ERROR at setup of TestASRService.test_initialization_with_model_loading ____\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n________ ERROR at setup of TestASRService.test_transcribe_audio_success ________\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n______ ERROR at setup of TestASRService.test_transcribe_audio_empty_data _______\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n_______ ERROR at setup of TestASRService.test_transcribe_audio_none_data _______\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n____ ERROR at setup of TestASRService.test_transcribe_audio_short_duration _____\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n______ ERROR at setup of TestASRService.test_transcribe_audio_model_error ______\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n__ ERROR at setup of TestASRService.test_transcribe_audio_audio_loading_error __\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n_ ERROR at setup of TestASRService.test_transcribe_audio_confidence_calculation _\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n______ ERROR at setup of TestASRService.test_transcribe_audio_no_segments ______\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n__ ERROR at setup of TestASRService.test_transcribe_audio_missing_avg_logprob __\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n__ ERROR at setup of TestASRService.test_transcribe_audio_whisper_parameters ___\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n__ ERROR at setup of TestASRService.test_transcribe_audio_different_languages __\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n_ ERROR at setup of TestASRService.test_transcribe_audio_audio_format_handling _\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n___ ERROR at setup of TestASRService.test_transcribe_audio_confidence_bounds ___\ntests/test_asr_service.py:18: in setup_method\n    with patch('services.asr_service.whisper.load_model') as mock_load_model:\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name\n    result = getattr(result, p)\n             ^^^^^^^^^^^^^^^^^^\nE   AttributeError: module 'services.asr_service' has no attribute 'whisper'\n=============================== warnings summary ===============================\n../../.venv/lib/python3.11/site-packages/tensorflow/python/framework/dtypes.py:35\n  /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/lib/python3.11/site-packages/tensorflow/python/framework/dtypes.py:35: DeprecationWarning: ml_dtypes.float8_e4m3b11 is deprecated. Use ml_dtypes.float8_e4m3b11fnuz\n    from tensorflow.tsl.python.lib.core import pywrap_ml_dtypes\n\n../../.venv/lib/python3.11/site-packages/pydub/utils.py:14\n  /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/lib/python3.11/site-packages/pydub/utils.py:14: DeprecationWarning: 'audioop' is deprecated and slated for removal in Python 3.13\n    import audioop\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n=========================== short test summary info ============================\nERROR tests/test_asr_service.py::TestASRService::test_initialization - Attrib...\nERROR tests/test_asr_service.py::TestASRService::test_initialization_with_model_loading\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_success\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_empty_data\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_none_data\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_short_duration\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_model_error\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_audio_loading_error\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_confidence_calculation\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_no_segments\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_missing_avg_logprob\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_whisper_parameters\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_different_languages\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_audio_format_handling\nERROR tests/test_asr_service.py::TestASRService::test_transcribe_audio_confidence_bounds\n======================== 2 warnings, 15 errors in 9.85s ========================\n",
      "stderr": "",
      "summary": {
        "error": 15,
        "total": 15,
        "collected": 15
      },
      "total_tests": 15,
      "passed": 0,
      "failed": 0
    },
    {
      "file": "test_prompt_service.py",
      "status": "FAILED",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 5 items\n\ntests/test_prompt_service.py::TestPromptService::test_generate_drawing_prompt_format FAILED [ 20%]\ntests/test_prompt_service.py::TestPromptService::test_initialization PASSED [ 40%]\ntests/test_prompt_service.py::TestPromptService::test_prompt_content_variation PASSED [ 60%]\ntests/test_prompt_service.py::TestPromptService::test_prompt_template_usage PASSED [ 80%]\ntests/test_prompt_service.py::TestPromptService::test_prompt_word_inclusion PASSED [100%]\n\n=================================== FAILURES ===================================\n____________ TestPromptService.test_generate_drawing_prompt_format _____________\ntests/test_prompt_service.py:39: in test_generate_drawing_prompt_format\n    self.assertIn(prompt[-1], [\".\", \"?\"])\nE   AssertionError: '!' not found in ['.', '?']\n----------------------------- Captured stdout call -----------------------------\n\u2705 PromptService initialized for MVP.\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n=========================== short test summary info ============================\nFAILED tests/test_prompt_service.py::TestPromptService::test_generate_drawing_prompt_format\n========================= 1 failed, 4 passed in 0.03s ==========================\n",
      "stderr": "",
      "summary": {
        "failed": 1,
        "passed": 4,
        "total": 5,
        "collected": 5
      },
      "total_tests": 5,
      "passed": 4,
      "failed": 1
    },
    {
      "file": "test_local_storage.py",
      "status": "FAILED",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 19 items\n\ntests/test_local_storage.py::TestLocalStorage::test_initialization ERROR [  5%]\ntests/test_local_storage.py::TestLocalStorage::test_database_tables_created ERROR [ 10%]\ntests/test_local_storage.py::TestLocalStorage::test_create_session ERROR [ 15%]\ntests/test_local_storage.py::TestLocalStorage::test_save_drawing ERROR   [ 21%]\ntests/test_local_storage.py::TestLocalStorage::test_save_response ERROR  [ 26%]\ntests/test_local_storage.py::TestLocalStorage::test_save_response_with_question_audio ERROR [ 31%]\ntests/test_local_storage.py::TestLocalStorage::test_get_drawing ERROR    [ 36%]\ntests/test_local_storage.py::TestLocalStorage::test_get_drawing_not_found ERROR [ 42%]\ntests/test_local_storage.py::TestLocalStorage::test_get_session ERROR    [ 47%]\ntests/test_local_storage.py::TestLocalStorage::test_get_session_not_found ERROR [ 52%]\ntests/test_local_storage.py::TestLocalStorage::test_get_all_sessions ERROR [ 57%]\ntests/test_local_storage.py::TestLocalStorage::test_get_drawings_by_session ERROR [ 63%]\ntests/test_local_storage.py::TestLocalStorage::test_get_responses_by_drawing ERROR [ 68%]\ntests/test_local_storage.py::TestLocalStorage::test_database_migration ERROR [ 73%]\ntests/test_local_storage.py::TestLocalStorage::test_file_operations ERROR [ 78%]\ntests/test_local_storage.py::TestLocalStorage::test_error_handling ERROR [ 84%]\ntests/test_local_storage.py::TestLocalStorage::test_data_validation ERROR [ 89%]\ntests/test_local_storage.py::TestLocalStorage::test_timestamp_handling ERROR [ 94%]\ntests/test_local_storage.py::TestLocalStorage::test_concurrent_access ERROR [100%]\n\n==================================== ERRORS ====================================\n____________ ERROR at setup of TestLocalStorage.test_initialization ____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n_______ ERROR at setup of TestLocalStorage.test_database_tables_created ________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n____________ ERROR at setup of TestLocalStorage.test_create_session ____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n_____________ ERROR at setup of TestLocalStorage.test_save_drawing _____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n____________ ERROR at setup of TestLocalStorage.test_save_response _____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n__ ERROR at setup of TestLocalStorage.test_save_response_with_question_audio ___\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n_____________ ERROR at setup of TestLocalStorage.test_get_drawing ______________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n________ ERROR at setup of TestLocalStorage.test_get_drawing_not_found _________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n_____________ ERROR at setup of TestLocalStorage.test_get_session ______________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n________ ERROR at setup of TestLocalStorage.test_get_session_not_found _________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n___________ ERROR at setup of TestLocalStorage.test_get_all_sessions ___________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n_______ ERROR at setup of TestLocalStorage.test_get_drawings_by_session ________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n_______ ERROR at setup of TestLocalStorage.test_get_responses_by_drawing _______\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n__________ ERROR at setup of TestLocalStorage.test_database_migration __________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n___________ ERROR at setup of TestLocalStorage.test_file_operations ____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n____________ ERROR at setup of TestLocalStorage.test_error_handling ____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n___________ ERROR at setup of TestLocalStorage.test_data_validation ____________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n__________ ERROR at setup of TestLocalStorage.test_timestamp_handling __________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n__________ ERROR at setup of TestLocalStorage.test_concurrent_access ___________\ntests/test_local_storage.py:24: in setup_method\n    self.storage = LocalStorage(db_path=self.temp_db.name)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: LocalStorage.__init__() got an unexpected keyword argument 'db_path'\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n=========================== short test summary info ============================\nERROR tests/test_local_storage.py::TestLocalStorage::test_initialization - Ty...\nERROR tests/test_local_storage.py::TestLocalStorage::test_database_tables_created\nERROR tests/test_local_storage.py::TestLocalStorage::test_create_session - Ty...\nERROR tests/test_local_storage.py::TestLocalStorage::test_save_drawing - Type...\nERROR tests/test_local_storage.py::TestLocalStorage::test_save_response - Typ...\nERROR tests/test_local_storage.py::TestLocalStorage::test_save_response_with_question_audio\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_drawing - TypeE...\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_drawing_not_found\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_session - TypeE...\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_session_not_found\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_all_sessions - ...\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_drawings_by_session\nERROR tests/test_local_storage.py::TestLocalStorage::test_get_responses_by_drawing\nERROR tests/test_local_storage.py::TestLocalStorage::test_database_migration\nERROR tests/test_local_storage.py::TestLocalStorage::test_file_operations - T...\nERROR tests/test_local_storage.py::TestLocalStorage::test_error_handling - Ty...\nERROR tests/test_local_storage.py::TestLocalStorage::test_data_validation - T...\nERROR tests/test_local_storage.py::TestLocalStorage::test_timestamp_handling\nERROR tests/test_local_storage.py::TestLocalStorage::test_concurrent_access\n============================== 19 errors in 0.12s ==============================\n",
      "stderr": "",
      "summary": {
        "error": 19,
        "total": 19,
        "collected": 19
      },
      "total_tests": 19,
      "passed": 0,
      "failed": 0
    },
    {
      "file": "test_kid_loop_router.py",
      "status": "FAILED",
      "return_code": 2,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.13, pytest-8.4.2, pluggy-1.6.0 -- /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/.venv/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.13', 'Platform': 'macOS-15.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'anyio': '4.10.0'}}\nrootdir: /Users/suparshwapatil/Desktop/Personal/projects/Draw_and_tell/draw-and-tell/backend\nplugins: json-report-1.5.0, metadata-3.1.1, anyio-4.10.0\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n________________ ERROR collecting tests/test_kid_loop_router.py ________________\n../../.venv/lib/python3.11/site-packages/starlette/testclient.py:44: in <module>\n    import httpx\nE   ModuleNotFoundError: No module named 'httpx'\n\nDuring handling of the above exception, another exception occurred:\ntests/test_kid_loop_router.py:5: in <module>\n    from fastapi.testclient import TestClient\n../../.venv/lib/python3.11/site-packages/fastapi/testclient.py:1: in <module>\n    from starlette.testclient import TestClient as TestClient  # noqa\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../.venv/lib/python3.11/site-packages/starlette/testclient.py:46: in <module>\n    raise RuntimeError(\nE   RuntimeError: The starlette.testclient module requires the httpx package to be installed.\nE   You can install this with:\nE       $ pip install httpx\n--------------------------------- JSON report ----------------------------------\nreport saved to: test_results.json\n=========================== short test summary info ============================\nERROR tests/test_kid_loop_router.py - RuntimeError: The starlette.testclient ...\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n=============================== 1 error in 0.30s ===============================\n",
      "stderr": "",
      "summary": {
        "total": 0,
        "collected": 0
      },
      "total_tests": 0,
      "passed": 0,
      "failed": 0
    }
  ],
  "overall_status": "FAILED",
  "pass_rate": 0.14285714285714285
}